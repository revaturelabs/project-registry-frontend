<h1 id="anime">Welcome to Registry</h1>

<form>
  <div class="container">
    <mat-card>
      <!-- Search By Project Name -->
      <mat-grid-list cols="5" rowHeight="1:0.3">
        <mat-grid-tile>
          <mat-form-field appearance="fill">
            <mat-label>Search Project Name:</mat-label>
            <input
              matInput
              class="from-control"
              (keyup)="applyFilter($event)"
              placeholder="Search For a Project"
              #input
              style="color:white;"
            />
          </mat-form-field>
        </mat-grid-tile>
        <!-- Search By Tag available -->

        <mat-grid-tile >
          <mat-form-field appearance="fill" >
            <mat-label>Project Tags:</mat-label>
            <mat-select
              
              name="tagList"
              (selectionChange)="filterTag($event)"
              [(ngModel)]="tagSelected"
              
            >
              <mat-option value="noTag">Select a tag...</mat-option>
              <mat-option *ngFor="let tags of tag" value="{{ tags.name }}" >
                {{ tags.name }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </mat-grid-tile>

        <!-- Search by Phase -->
        <mat-grid-tile>
          <mat-form-field appearance="fill">
            <mat-label>Project Phase:</mat-label>
            <mat-select
              name="phaseList"
              (selectionChange)="filterPhase($event)"
              [(ngModel)]="phaseSelected"
            >
              <mat-option value="noPhase">Select a Phase...</mat-option>
              <mat-option *ngFor="let fase of phase" value="{{ fase.kind }}">
                {{ fase.kind }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </mat-grid-tile>

        <!-- Search By code status -->
        <mat-grid-tile>
          <mat-form-field appearance="fill">
            <mat-label>Project Status:</mat-label>
            <mat-select
              name="statusList"
              (selectionChange)="filterStatus($event)"
              [(ngModel)]="statusSelected"
            >
              <mat-option value="noStatus">Select a status...</mat-option>
              <mat-option
                *ngFor="let statuses of status"
                value="{{ statuses }}"
              >
                {{ statuses }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </mat-grid-tile>

        <!-- Search By code iteration -->
        <!-- <mat-grid-tile>
          <mat-form-field appearance="fill">
            <mat-label>Project Iteration:</mat-label>
            <mat-select>
              <app-iteration
                (batchIdNumber)="changeBatchIdNumber($event)"
                (batchBatchIdString)="changeBatchIdString($event)"
                class="mat-form-field-appearance-fill mat-form-field-infix"
              ></app-iteration>
              <p>
                From app-iteration: id-{{ batchIdNum }} batch-{{
                  batchBatchIdStr
                }}
              </p>
            </mat-select>
          </mat-form-field>
        </mat-grid-tile> -->

        <!-- Reset button -->
        <mat-grid-tile>
          <input
            type="reset"
            (click)="reset()"
            value="Reset Filters"
            class="btn btn-outline-warning btn-block"
            style="
              margin: 2px;
              background-color: #b9b9ba;
              color: white;
              padding: 30px;
            "
          />
        </mat-grid-tile>
      </mat-grid-list>

      <div class="mat-elevation-z8">
        <table mat-table [dataSource]="dataSource" matSort>
          <!-- ID Column -->
          <ng-container matColumnDef="id">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>ID</th>
            <td
              matTooltip="Click to get project-detail"
              mat-cell
              *matCellDef="let row"
              (click)="rowClicked(row.id)"
            >
              {{ row.id }}
            </td>
          </ng-container>

          <!-- name Column -->
          <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
            <td mat-cell *matCellDef="let row" (click)="rowClicked(row.id)">
              {{ row.name }}
            </td>
          </ng-container>

          <!-- status Column -->
          <ng-container matColumnDef="status">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Status</th>
            <td mat-cell *matCellDef="let row" (click)="rowClicked(row.id)">
              {{ row.status.name }}
            </td>
          </ng-container>

          <!-- phase Column -->
          <ng-container matColumnDef="phase">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Phase</th>
            <td mat-cell *matCellDef="let row" (click)="rowClicked(row.id)">
              {{ row.status.name }}
            </td>
          </ng-container>

          <!-- description Column -->
          <ng-container matColumnDef="description">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              Description
            </th>
            <td mat-cell *matCellDef="let row" (click)="rowClicked(row.id)">
              {{ row.description }}
            </td>
          </ng-container>

          <ng-container matColumnDef="owner">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Owner</th>
            <td mat-cell *matCellDef="let row" (click)="rowClicked(row.id)">
              {{ row.owner.username }}
            </td>
          </ng-container>

          <ng-container matColumnDef="tags">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Tags</th>
            <td mat-cell *matCellDef="let row" (click)="rowClicked(row.id)">
              <span *ngFor="let in of row.tags">
                {{ in.name }}
              </span>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

          <!-- Row shown when there is no matching data.-->
          <tr class="mat-row" *matNoDataRow>
            <td class="mat-cell" colspan="4">
              No Data Found Create New Project: "{{ input.value }}"
              <button
                mat-icon-button
                color="primary"
                mat-raised-button
                aria-label="HomeButton"
                routerLink="/create-project"
              >
                <mat-icon>edit</mat-icon>
              </button>
            </td>
          </tr>
        </table>

        <mat-paginator
          [pageSize]="5"
          [length]="projects.length"
          [pageSizeOptions]="[5, 10, 25, 100]"
        ></mat-paginator>
      </div>
    </mat-card>
  </div>
</form>
